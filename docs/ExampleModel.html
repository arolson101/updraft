<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Updraft Class: ExampleModel</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.journal.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Updraft</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="ExampleModel.html">ExampleModel</a>
						</li>
						
						<li>
							<a href="Instance.html">Instance</a>
						</li>
						
						<li>
							<a href="Model.html">Model</a>
						</li>
						
						<li>
							<a href="Query.html">Query</a>
						</li>
						
						<li>
							<a href="Set.html">Set</a>
						</li>
						
						<li>
							<a href="Store.html">Store</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: ExampleModel</h1>
<section>

<header>
    <h2>
    ExampleModel
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="ExampleModel"><span class="type-signature"></span>new ExampleModel<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Example class, an <a href="Instance.html">Instance</a> returned by <a href="Store.html#createClass">Store#createClass</a>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>keyField</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">object's primary key, unique in the table</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>stringField</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>jsonField</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">can be any javascript type, object, or nesting of objects.  Will be 
          stored stringified, so any shared properties will no longer be shared after reloading from db.</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>indexedField</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">a regular integer field, but queries testing indexed fields will be faster.
          Doesn't have to be <tt>int</tt>- any field type can be indexed.</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>childField</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">a pseudo 'ChildClass' object.  Although you can assign to it, the object won't be available.
          That is, you will always need to call 'childField.get()' and wait for the promise, even if you just
          assigned to it.
                <h6>Properties</h6>

<table class="props table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last">the key of the child object pointed to.  Note that the member 'id' is because 
          ChildClass's key is named 'id'; similarly the type is inherited from ChildClass's key type.  This 
          is the only part of the reference that is stored on the object.</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>setField</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Set.html">Set</a></span>


            
            </td>

            

            

            <td class="description last">a searchable collection of objects</td>
        </tr>

	
	</tbody>
</table>
</dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        model.js
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>ClassTemplate, Model</li>
        </ul>
    </dd>
    

    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var ChildClass = store.createClass({
  tableName: 'childClass',
  columns: {
    id: { type: 'int', key: true },
    intField: { type: 'int', index: true }
  }
});
var ExampleModel = store.createClass({
  tableName: 'exampleModel',
  columns: {
    keyField: { type: 'int', key: true },
    stringField: { type: 'text' },
    jsonField: { type: 'json' },
    indexedField: { type: 'int', index: true },
    childField: { type: 'ptr', ref: ChildClass }
  }
});

var child = new ChildClass({id: 321, intField: 456});

var x = new ExampleModel();
x.keyField = 123;
x.stringField = 'string example';
x.jsonField = { x: 1, y: 'a', z: { foo: 'bar' } };
console.log(x.changes());
// -> ['keyField', 'stringField', 'jsonField']

// the following lines are exactly equivalent:
x.childField = child;
x.childField = child.id;
x.childField = 321;

console.log(x.childField.id); // -> 321

x.childField.get().then(function(c) {
  // child was never saved, so c is null, unless there was
  // already a ChildClass with id=321 in the db');
});

// ... assume more objects have been created and saved ...

ExampleModel.all.where('childField.intField', '=', 456).get()
.then(function(results) {
  // results is an array containing (a copy of) x and anything
  // else that has the same 
});</pre>


    
</dd>

    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        <ul>
            <li><a href="Instance.html">Instance</a></li>
        </ul>
    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="changes"><span class="type-signature"></span>changes<span class="signature">()</span><span class="type-signature"> &rarr; {string[]}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get the fields that have been changed since the object was last loaded/saved
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Instance.html#changes">Instance#changes</a>
    </li></dd>
    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        model.js
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Names of the fields that have changed
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string[]</span>


	</dd>
</dl>


        
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var x = new Class();
x.foo = 'bar';
console.log(x.changes());
// -> ['foo']</pre>


    
</dd>

        
            
<dt>
    <h4 class="name" id="key"><span class="type-signature"></span>key<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Return the object's primary key's value
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Instance.html#key">Instance#key</a>
    </li></dd>
    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        model.js
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Value of primary key
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>


        
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var x = new Class();
x.id = 123;
console.log(x.key());
// -> '123'</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a>
		on Wed Mar 18 2015 21:02:11 GMT-0500 (CDT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:false,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>